<div class="container-fluid pt-3">
  <div class="row">
  <div class="col-md-5 mb-2" id="login">
  <form class="p-3 box-content" name="f" action="/login" method="POST">
  <h3 class="text-success text-center">Login</h3>
  <div class="alert alert-dismissable alert-danger p-2" th:if="${param.error != null}">
      <button type="button" class="close" data-dismiss="alert">&times;</button>
      <p class="p-0 m-0" th:text="${session.SPRING_SECURITY_LAST_EXCEPTION.message}"></p>
  </div>
    <div class="form-group">
      <label>Email</label>
      <input type="text" name="username" class="form-control" placeholder="Email"/>
    </div>
    <div class="form-group">
      <label>Password</label>
      <input type="password" name="password" class="form-control" placeholder="Password"/>
    </div>
    <div class="row">
      <div class="col-auto">
        <button name="submit" type="submit" value="Login" class="btn btn-primary">Log in</button>	
      </div>
      <div class="col">
      <div class="custom-control custom-checkbox mt-3">
          <input type="checkbox" class="custom-control-input" id="remember-me" name="remember-me"/>
          <label class="custom-control-label" for="remember-me">Remember me</label>
      </div>	
      </div>
    </div>
  </form>
  </div>
  <div class="col-md-7 mb-2">
  <form name="registerForm" #register="ngForm" (submit)="register.form.valid && register()" class="p-3 box-content" novalidate enctype="multipart/form-data">
  <h3 class="text-success text-center">Register</h3>
    <div class="form-group">
      <label>Email</label>
      <input type="text" name="email" [(ngModel)]="model.email" class="form-control" placeholder="Email"
      #email="ngModel" [ngClass]="{'is-invalid': register.submitted && email.invalid}" required email/>
      <div *ngIf="register.submitted && email.invalid" class="text-danger">
        <div *ngIf="email.errors?.required">Email is required</div>
        <div *ngIf="email.errors?.email">Email is not valid</div>
      </div>
    </div>
    <div class="row mb-3 form-group">
      <div class="col-md-6">
        <label>Password</label>
        <input type="password" name="password" [(ngModel)]="model.password" class="form-control" placeholder="Password"
        #password="ngModel" [ngClass]="{'is-invalid': register.submitted && password.invalid}" required minlength="6"/>
        <div *ngIf="register.submitted && password.invalid" class="text-danger">
          <div *ngIf="password.errors?.required">Password is required</div>
          <div *ngIf="password.errors?.minlength">Password must contain at least 6 characters</div>
        </div>
      </div>
      <div class="col-md-6">
        <label>Confirm Password</label>
        <input type="password" name="rePassword" [(ngModel)]="model.rePassword" class="form-control" placeholder="Confirm Password"
        #rePassword="ngModel" [ngClass]="{'is-invalid': register.submitted && rePassword.invalid}" required minlength="6"/>
        <div *ngIf="register.submitted && rePassword.invalid" class="text-danger">
          <div *ngIf="rePassword.errors?.required">Confirm Password is required</div>
          <div *ngIf="rePassword.errors?.minlength">Password must contain at least 6 characters</div>
        </div>
      </div>
    </div>
    <div class="form-group">
      <label>Name</label>
      <input type="text" name="name" [(ngModel)]="model.name" class="form-control" placeholder="First Name"
      #name="ngModel" [ngClass]="{'is-invalid': register.submitted && name.invalid}" required minlength="2"/>
      <div *ngIf="register.submitted && name.invalid" class="text-danger">
        <div *ngIf="name.errors?.required">Name is required</div>
        <div *ngIf="name.errors?.minlength">Name must contain at least 2 characters</div>
      </div>
    </div>

    <label class="labelText">User photo</label><br/>
    <div class="col-md-6 custom-file">
      <input id="multipartImage" aria-describedby="User Image" accept="image/*" name="multipartImage" [(ngModel)]="model.multipartImage" type="file" class="custom-file-input"/>
      <label class="custom-file-label" for="multipartImage">Choose file</label>
    </div>
                          
    <div class="custom-control custom-checkbox mt-3 mb-3">
        <input type="checkbox" class="custom-control-input" id="terms" name="terms" [(ngModel)]="model.terms" (change)="toggleVisibility($event)"/>
        <label class="custom-control-label" for="terms">I agree to the <a target="_blank" href="/terms">Terms of use</a></label>
    </div>
      
    <button type="submit" class="btn btn-primary">Register</button>
  </form>
  </div>
  </div>
  </div>